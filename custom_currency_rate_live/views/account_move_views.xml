<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <data>
    
        <record id="view_move_form_inherit_exchange_rate_date" model="ir.ui.view">
            <field name="name">account.move.form.inherit</field>
            <field name="model">account.move</field>
            <field name="inherit_id" ref="account.view_move_form"/>
            <field name="arch" type="xml">

                <xpath expr="//group[@id='header_left_group']//field[@name='tax_cash_basis_origin_move_id']" position="after">
                    <field name="is_exchange_difference" invisible='1'/>
                    <field name="payment_ref" attrs="{'invisible':[('is_exchange_difference', '=', False)]}"/>
                    <field name="invoice_ref" attrs="{'invisible':[('is_exchange_difference', '=', False)]}"/>
                </xpath>

                <xpath expr="//group[@id='header_right_group']//field[@name='invoice_date']" position="after">
                    <label for="exchange_rate_date" />
                    <div name="exchange_rate_date" class="d-flex">
                        <field name="exchange_rate_date"/>
                        <span class="oe_inline o_form_label mx-3 oe_read_only"
                            groups="base.group_multi_currency"> Rate </span>
                        <!-- Bigger margin on the left because in edit mode the external link button covers the text -->
                        <span class="oe_inline o_form_label mr-3 ml-5 oe_edit_only"
                            groups="base.group_multi_currency"> Rate </span>
                        <field name="currency_rate"/>
                    </div>
                </xpath>

            </field>
        </record>

    </data>
</odoo>
